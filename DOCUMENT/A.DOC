.ver	1.00
.tab	8
---------------------------------------------------------------------------
 DOS汎用音源ドライバ
                        MFXDRV/DDN version 1.00

   copyright (c) 1993,94 by T.Kobayashi / Interfair All Rights Reserved.
---------------------------------------------------------------------------

※はじめに
	このたびは、Interfairてひっぽproject製品をdownload下さいまして
	誠にありがとうございます。この説明をよく読んで、正しい服用をす
	るようにしてください^^

※MFXDRV/DDNって?
	MFXDRV/DDN(以下DDN)は、DOS が動作する パーソナルコンピュータ用の
	音源ドライバです。従って、このドライバ自体にハードウェアをいじる
	能力はなく、このドライバに組み込まれた手足となるドライバを駆使し
	て演奏を行う形式のプログラムです。

※MFXDRV/DDNの特徴
	(1) 同時に32トラック演奏できる。
	    1トラックでの同時発音数はドライバによります。
	(2) 新タイプの音源が出たとき、すぐに対応できる。
	(3) 98系DOSでもDOS/Vでも同じ曲データが使える。
	(4) 外部ドライバの作成がお手軽。
	(5) 豊富なファンクション(なの?)
	(6) すべてアセンブリ言語で記述されていて、機能の割に常駐サイズが
	    小さい(約10K)。

※動作環境
	DOSが走る環境で、80186以降を積んだ機種。

※使用方法
	(1) まず MFXDRV/DDNをメモリに常駐させます。
	    DOSのプロンプトが出ている状態で
	    
	    > mfxddn
	    
	    で常駐します。
	    各種制御のためのベクタとして int 50h,51h を使用します。
	    int 51h は、hookしませんが、mld.exe(後述)使用時に内部で使用します。

	(2) このドライバは、ハードウェアを制御する外部ドライバ(以下XDVドライバ)
	    を持たないので、制御するためのXDVドライバを常駐させてやる必要があり
	    ます。
	    XDVドライバの種類として、以下の3タイプが存在します。
	      i) 音源ドライバ
		 音源をいじるXDVドライバ
	     ii) タイマードライバ
		 DDNに、演奏のための一定時間の割り込みを供給するドライバ
	    iii) その他ドライバ
		 なにをするか分からないドライバ

	    楽曲を演奏するためには、音源ドライバとタイマードライバが必要です。
	    さしおり、MIDI.XDV という音源ドライバと、ITVTIMER.XDV という
	    インターバルタイマードライバが梱包されてますので、これを組み込む
	    ことにします。
	　　組み込む際には mld.exe という専用のXDVドライバ組み込みプログラムで
	　　組み込んでやる必要があります。
	
	    >mld.exe midi.xdv
	    >mld.exe itvtimer.xdv
	    
	    で常駐させることができます。組み込めなかった場合、該当するXDVドラ
	    イバのドキュメントファイルを参照して下さい。

	    ※mld.exe は実行中のみ、XDVドライバプログラマのために int 51h を
	      hookして各種サービスを行います。

	(3) 何が現在登録されているかは、DOSプロンプト上から
	
	    >mfxddn
	    
	    とすると、現在使用できる環境が表示されます。
	
	(4) 解放は、DOSプロンプト上から
	
	    >mfxddn /r
	    
	    でメモリ上から解放されます。また、組み込まれていたXDVドライバ
	    及び、その周辺メモリも自動的に解放されます。
	    エラーメッセージをだしてメモリ等解放出来なかった場合、メモリ
	    内にゴミが残っている場合がありますので、速やかにリセットを行
	    なって下さい。このままでいいという強気な人(げ(笑))は、そのまま
	    でも構いません(笑)。

※ファイルおよびAPIについて
	ファイル及びAPIリストについては以下の仕様書、テクニカルマニュアル
	及びドキュメントを参照して下さい。

	テクニカルマニュアル		tech.doc
	XDVの構造などについて		xdv.doc

	XMML3.00-API	 (int 50h)	ddn.act
	XMML3.00-MLD-API (int 51h)	mld.act
	〜.mbj ファイル			mbj.act
	〜.mbs ファイル			mbs.act
	〜.mud ファイル			mud.act
	〜.mud ファイルの演奏データ部分	bin.act
	音源ドライバAPI			_usl_drv.act
	タイマードライバAPI		_tim_drv.act
	その他ドライバAPI		_etc_drv.act
	ECM機能				ecm.act
	バッファチェインブロック	buf.act

	まず、テクニカルマニュアルを読めば、理解できるようなかんじに
	しておきますね〜。

※謝辞
	この DOC は、master,doc を参考にさせていただきました。
	恋塚さん、ありがとうございます。
	master.doc をよくみてみると、もとは白石さんのDOCFORMなんですね(笑)
	白石さん、どうもありがとうございます^^;;;;

	ISL-NET (junk.test)で、ノートを開かせてもらってます。
	どうもありがとうございます>sysop様

	動作確認さんきゅう〜＞てぃあなん氏

※著作権・転載などについて

	・著作権は小林 隆生及びInterfairが保有します。
	・このプログラムを実行して起こり得た損害について、一切責任を負わない
	　ものとします。補償もしません。
	・ソースの改編後のuploadも許可します。ただし、その旨をドキュメントに
	　書いて下さい。また、改編の際、copyrightは絶対書き換えないで下さい。
	  改編した場合便利な機能がついたら、私に一報下さいな(笑)
	・転載する場合は、本体・ソース・ドキュメントすべてを転載するように
	　してください。連絡も必要ありません。
	・バグ修正は、最新版について行います。
	・改造後の mfxddn.lib の配布は構いませんが、DOCにその旨を目立つように
	　書いて置いて下さい。改造後の動作については、一切責任は負いません。
	・組み込み後のプログラムの配布は、商的利用、非商的利用どちらも構いま
	　せん。連絡不要です。でも、DOCファイルに書いてあったら結構嬉しいかも:)
	  また、DDN,XDV単体での組み込みも構いません。
	・このソフトウェアは、FREESOFTWAREとして公開します。PDSではありません。
	  取り扱いに注意して下さい。

	あんまり、厳しい条件つけたくないので上のような感じになりました^^
	どんどん普及すればいいけどね(笑)

※連絡先
	BBS:
		ISL-NET(千葉)		isl30126	junk.test
		ARIES(熊本)		ABA
		ABC-NET(熊本)		ABA
		nifty-serve		HGA02466(TEANAN)
	EMAIL:
		kobayasi@inf.yatsushiro-nct.ac.jp	若しくは
		aba@orion.inf.yatsushiro-nct.ac.jp

	出来る限りボードで宜しくお願いします。

※よろしくー
							isl30126	ABA
